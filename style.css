:root { 
    --border: #e0e0e0;
    --bg-main: #ffffff;
    --bg-soft: #f9f9f9;
    --primary: #1a73e8;
    --primary-light: #e8f0fe;
    --text: #3c4043;
    --danger: #d93025;
    --success: #2e7d32;
    --overlay-bg: rgba(0,0,0,0.4);
    --warning: #f29900;
}

body.dark-mode {
    --bg-main: #121212;
    --bg-soft: #1e1e1e;
    --text: #e0e0e0;
    --border: #333333;
    --primary-light: #172b4d;
}

*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

body{
    font-family:'Segoe UI',system-ui,-apple-system,sans-serif;
    line-height:1.5;
    background:var(--bg-main);
    color:var(--text);
    overflow:auto;
    display:flex;
    flex-direction:column;
    min-height:100vh;
    transition:background .3s;
}

/* Flatpickr Customization */
.flatpickr-calendar { border-radius: 15px !important; box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important; border: none !important; }
.flatpickr-day.selected { background: var(--primary) !important; border-color: var(--primary) !important; }
.flatpickr-clear-button { width: 100%; background: var(--danger); color: white; border: none; padding: 12px; font-weight: bold; cursor: pointer; }

/* LAYAR LOGIN */
#login-screen { 
    position: fixed; 
    inset: 0; 
    background: #ffffff;
    z-index: 9999; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}
.login-card { 
    background: #ffffff; 
    padding: 40px 30px; 
    width: 90%; 
    max-width: 380px; 
    text-align: center;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
}
.login-card h2 {
    font-size: 20px;
    color: #1a73e8;
    font-weight: 800;
    margin-bottom: 10px;
    letter-spacing: 1px;
    line-height: 1.3;
}
.login-card p {
    font-size: 14px;
    color: #666;
    margin-bottom: 35px;
}
.login-card input {
    width: 100%;
    padding: 16px 20px;
    margin-bottom: 20px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    font-size: 16px;
    outline: none;
    transition: all 0.3s;
}
.login-card input:focus {
    border-color: #1a73e8;
    box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
}
.login-buttons {
    display: flex;
    gap: 12px;
    margin-top: 25px;
}
.login-card button {
    flex: 1;
    padding: 16px;
    border: none;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.btn-login { background: #1a73e8; color: #ffffff; }
.btn-login:hover { background: #1557b0; transform: translateY(-2px); box-shadow: 0 8px 20px rgba(26, 115, 232, 0.4); }
.btn-view { background: #f0f0f0; color: #666; }
.btn-view:hover { background: #e0e0e0; transform: translateY(-2px); }

/* HEADER & SIDEBAR */
header{padding:0 15px;border-bottom:1px solid var(--border);display:flex;align-items:center;background:var(--bg-main);height:50px;justify-content:space-between;flex-shrink:0}
#sidebar { 
    width: 280px; background: var(--bg-main); position: fixed; left: -280px; height: 100%; 
    transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1100; border-radius: 0 30px 30px 0; 
    display: flex; flex-direction: column; box-shadow: 15px 0 50px rgba(0,0,0,0.1);
}
#sidebar.active { left: 0; }
.sidebar-header { padding: 30px 25px 10px; font-weight: 800; font-size: 18px; color: var(--text); letter-spacing: 1px; }
.cat-group { border-bottom: 1px solid var(--border); }
.cat-header { width: 100%; padding: 15px 25px; background: var(--bg-soft); border: none; text-align: left; font-weight: 800; font-size: 12px; color: #888; cursor: pointer; display: flex; justify-content: space-between; align-items: center; text-transform: uppercase; }
.cat-content { display: none; }
.cat-content.active { display: block; }
.tab-btn{width:100%;padding:15px 25px;border:none;background:none;text-align:left;cursor:pointer;font-size:14px;font-weight:700;color:var(--text);transition:0.2s}
.tab-btn.active{color:var(--primary);background:rgba(26,115,232,0.1); border-left: 4px solid var(--primary);}

/* UI COMPONENTS */
.btn-ui{padding:8px 16px;border:1px solid var(--border);background:var(--bg-main);color:var(--text);border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;transition:0.2s; text-align: center;}
.toolbar{display:flex;flex-direction:column;gap:8px;background:var(--bg-soft);padding:12px 15px;border-bottom:1px solid var(--border);flex-shrink:0}
.date-input-container { display: flex; align-items: center; background: var(--bg-main); border: 1px solid var(--primary); border-radius: 10px; }
#dateRangePicker { flex-grow: 1; border: none; padding: 12px; font-size: 13px; background: transparent; color: var(--text); font-weight: 600; outline: none; text-align: center; }

/* TABLE */
.table-container{flex-grow:1;overflow:auto;background:var(--bg-main); position: relative;}
table{border-collapse:collapse;width:100%;table-layout: fixed;}
th{background:var(--bg-soft);padding:0;border:1px solid var(--border);font-size:11px;position:sticky;top:0;z-index:10;color:var(--text); width: 130px;}
.th-inner{display:flex;align-items:center;justify-content:space-between;padding:10px;cursor:pointer}
td{border:1px solid var(--border);padding:0;height:48px; width: 130px;}
td input{border:none;padding:0 10px;font-size:13px;outline:none;background:transparent;width:100%;height:100%;color:var(--text);}
.row-num{width:65px !important; background:var(--bg-soft); text-align:center; font-size:12px; font-weight:800; color:var(--primary); cursor:pointer;}

/* NOTIF & OVERLAY */
#toast{position:fixed;top:20px;left:50%;transform:translateX(-50%)translateY(-100px);background:#323232;color:#fff;padding:12px 24px;border-radius:8px;font-size:14px;z-index:10000;transition:0.3s;}
#toast.active{transform:translateX(-50%)translateY(0)}
#overlay{display:none;position:fixed;inset:0;background:var(--overlay-bg);z-index:1050;backdrop-filter:blur(2px)}
#overlay.active{display:block}

/* NAVIGATION & SHEETS */
.nav-box{display:flex; justify-content: space-between; align-items: center; padding:12px; background:var(--bg-main); border-top:2px solid var(--primary); position:sticky; bottom:0; z-index:100}
.sheet{position:fixed;bottom:-100%;left:0;right:0;background:var(--bg-main);z-index:5000;border-radius:24px 24px 0 0;padding:25px 20px;transition:0.4s cubic-bezier(0.4,0,0.2,1);max-width:600px;margin:0 auto;box-shadow:0 -5px 25px rgba(0,0,0,0.2); border: 1px solid var(--border); max-height: 85vh; overflow-y: auto;}
.sheet.active{bottom:0}
.sheet-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; border-bottom: 1px solid var(--border); padding-bottom: 10px;}
.close-btn{background:var(--bg-soft); border:none; padding:8px 15px; border-radius:8px; font-weight:bold; cursor:pointer; color:var(--danger);}
.cat-item-select { padding: 15px; border: 1px solid var(--border); margin-bottom: 8px; border-radius: 10px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 10px; }
.cat-item-select:hover { background: var(--primary-light); }

/* MODE INDICATOR */
.mode-badge {
    position: fixed;
    top: 60px;
    right: 15px;
    padding: 8px 16px;
    background: var(--primary-light);
    color: var(--primary);
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    z-index: 1000;
    letter-spacing: 1px;
}

/* UTILITY */
input[readonly] { cursor: default; background-color: transparent !important; border: none !important; outline: none !important; }
.admin-hidden { display: none !important; }
